<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8">
<title></title>
</head>
<body>

  <button onclick="connectSocket()">Connect</button>
  <canvas width="900" height="600" style="background-color:grey">
  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/SVGBuilder.js"></script>
  <script src="sockets.js"></script>
  <script type="text/javascript">
  var pressedK=[];
  function handleKeyDown(event){//event.key
    if(!pressedK.includes(event.key)){
      pressedK.push(event.key);
      socket.emit("update",JSON.stringify({id:socket.id, keys:pressedK}));
    }
  }
  function handleKeyUp(event){//event.key
    if(pressedK.includes(event.key)){
      pressedK.splice(pressedK.indexOf(event.key),1);
      socket.emit("update",JSON.stringify({id:socket.id, keys:pressedK}));
    }
  }
  window.addEventListener('keydown', handleKeyDown, true);
  window.addEventListener('keyup', handleKeyUp, true);
</script>
</body>
</html>
